<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <title>Mini Forest</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div id="loginPage">
        <div class="login-card">
            <div class="login-title">ğŸŒ² Mini Forest</div>

            <div class="login-tabs">
                <button id="tabLogin" class="active" onclick="showTab('login')">GiriÅŸ Yap</button>
                <button id="tabRegister" onclick="showTab('register')">KayÄ±t Ol</button>
            </div>

            <div id="loginForm">
                <input type="text" id="loginUsername" placeholder="KullanÄ±cÄ± adÄ±">
                <input type="password" id="loginPassword" placeholder="Åifre">
                <button class="login-btn" onclick="login()">GiriÅŸ Yap</button>
            </div>

            <div id="registerForm" style="display:none;">
                <input type="text" id="registerUsername" placeholder="KullanÄ±cÄ± adÄ±">
                <input type="password" id="registerPassword" placeholder="Åifre">
                <button class="login-btn" onclick="register()">KayÄ±t Ol</button>
            </div>

            <div id="loginInfoMessage"></div>
            <div id="errorMessage"></div>
        </div>
    </div>

    <div id="appPage">
        <div class="app-wrapper">

            <header class="navbar">
                <div class="navbar-left">
                    <span style="font-size: 24px;">ğŸŒ²</span>
                    <div>
                        <div class="navbar-title">Mini Forest</div>
                        <div class="navbar-subtitle">Odak SÃ¼reni YeÅŸerten Uygulama</div>
                    </div>
                </div>

                <div class="navbar-right">
                    <span class="navbar-user" id="navbarUser"></span>
                    <button id="themeToggle" class="theme-toggle">ğŸŒ™</button>
                    <button class="btn-small" onclick="logout()">Ã‡Ä±kÄ±ÅŸ Yap</button>
                </div>
            </header>

            <main class="app-main">

                <section class="column">

                    <div class="card">
                        <h3 class="card-title">Yeni Odak Oturumu</h3>
                        <p class="card-desc">SÃ¼reyi seÃ§, baÅŸlata tÄ±kla ve odak sÃ¼reni ormana dÃ¶nÃ¼ÅŸtÃ¼r. ğŸŒ±</p>

                        <label>SÃ¼re (dakika):
                            <input id="durationInput" type="number" value="25" min="1">
                        </label>

                        <div style="margin-top:10px;">
                            <button onclick="startSession()">BaÅŸlat</button>
                            <button class="secondary" onclick="finishSession(false)">Bitir</button>
                        </div>

                        <p style="margin-top:15px; font-size:14px;">
                            <strong>Geri SayÄ±m:</strong> <span id="timerDisplay">-</span>
                        </p>
                    </div>

                    <div class="card">
                        <h3 class="card-title">TÃ¼m Oturumlar</h3>
                        <div style="margin-bottom:8px;">
                            <button onclick="toggleSessions()">Gizle / GÃ¶ster</button>
                        </div>
                        <ul id="sessionsList"></ul>
                    </div>
                </section>

                <section class="column">

                    <div class="card">
                        <h3 class="card-title">BugÃ¼nkÃ¼ Toplam SÃ¼re</h3>
                        <p id="todaySummary" style="margin-top:10px;">YÃ¼kleniyor...</p>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Ä°statistikler</h3>
                        <canvas id="statsChart" height="150"></canvas>
                    </div>

                    <div class="card">
                        <h3 class="card-title">ğŸŒ³ Mini Orman</h3>
                        <p class="card-desc">Her tamamlanan odak oturumu otomatik olarak bir fidan ekler ğŸŒ±</p>

                        <div class="form-group" style="margin-top: 10px;">
                            <label for="treeType" style="font-weight: bold; margin-right: 5px;">Hangi aÄŸacÄ±
                                dikeceksin?</label>
                            <select id="treeType" class="form-control"
                                style="padding: 8px; border-radius: 8px; border: 1px solid #ccc; width: 100%;">
                                <option value="ğŸŒ²">ğŸŒ² Ã‡am AÄŸacÄ±</option>
                                <option value="ğŸŒ³">ğŸŒ³ Ã‡Ä±nar / MeÅŸe</option>
                                <option value="ğŸŒ¸">ğŸŒ¸ Kiraz Ã‡iÃ§eÄŸi</option>
                                <option value="ğŸŒ´">ğŸŒ´ Palmiye</option>
                                <option value="ğŸŒµ">ğŸŒµ KaktÃ¼s</option>
                                <option value="ğŸ">ğŸ Sonbahar AÄŸacÄ±</option>
                                <option value="ğŸ„">ğŸ„ Mantar Evi</option>
                            </select>
                        </div>

                        <div id="forestGrid" class="forest-grid"></div>
                    </div>

                </section>
            </main>
        </div>
    </div>

    <div id="focusModal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="focusStatusText">OdaklanÄ±lÄ±yor...</h2>
            <div id="modalTimerDisplay" class="huge-timer">25:00</div>
            <div class="tree-animation-container">
                <div id="growingTree" class="tree-emoji">ğŸŒ±</div>
            </div>
            <p class="motivation-text" id="modalQuote">"Her bÃ¼yÃ¼k orman, kÃ¼Ã§Ã¼k bir tohumla baÅŸlar."</p>
            <button class="btn-cancel" onclick="finishSession(false)">Pes Et (Ä°ptal)</button>
        </div>
    </div>

    <div id="editModal" class="modal-overlay">
        <div class="modal-content" style="background: white; color: #333; max-width: 350px;">
            <h3 style="color: #2e7d32; margin-bottom: 15px;">Oturumu DÃ¼zenle ğŸ“</h3>

            <input type="hidden" id="editSessionId">

            <div class="form-group">
                <label>SÃ¼re (dk):</label>
                <input type="number" id="editDuration" class="form-control">
            </div>

            <div class="form-group">
                <label>AÄŸaÃ§ TÃ¼rÃ¼:</label>
                <select id="editTreeType" class="form-control">
                    <option value="ğŸŒ²">ğŸŒ² Ã‡am</option>
                    <option value="ğŸŒ³">ğŸŒ³ Ã‡Ä±nar</option>
                    <option value="ğŸŒ¸">ğŸŒ¸ Kiraz</option>
                    <option value="ğŸŒ´">ğŸŒ´ Palmiye</option>
                    <option value="ğŸŒµ">ğŸŒµ KaktÃ¼s</option>
                    <option value="ğŸ">ğŸ Sonbahar</option>
                    <option value="ğŸ„">ğŸ„ Mantar</option>
                </select>
            </div>

            <div class="form-group">
                <label>Notun:</label>
                <textarea id="editNote" class="form-control" rows="3" placeholder="NasÄ±l geÃ§ti?"></textarea>
            </div>

            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                <button onclick="saveSessionEdit()"
                    style="background: #2e7d32; color: white; padding: 8px 16px; border: none; border-radius: 5px; cursor: pointer;">Kaydet</button>
                <button onclick="closeEditModal()"
                    style="background: #ccc; color: #333; padding: 8px 16px; border: none; border-radius: 5px; cursor: pointer;">Ä°ptal</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>

</body>

</html>